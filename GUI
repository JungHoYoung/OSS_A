package oss_a;

import javax.swing.*;
import java.awt.*;
import java.awt.event.*;
import java.util.*;



// 버튼.setEnabled(false); // 버튼 클릭 불가 나중에 써먹을지도 몰라서 남겨둠


public class mine extends JFrame {
	JButton b1 = new JButton("1"); // 레벨 선택 버튼
	JButton b2 = new JButton("2"); // 레벨 선택 버튼
	JButton b3 = new JButton("3"); // 레벨 선택 버튼
	JPanel jp = new JPanel(); // 패널 1
	JPanel jp2 = new JPanel(); // 패널 2
	JLabel jl = new JLabel("난이도 선택"); // 레이블 텍스트 설정
	JButton reset = new JButton(); // 리셋 버튼 설정

public mine() {
	super("지뢰찾기"); // 타이틀
	
	jp.add(jl); 
	this.setLayout(new BorderLayout());
	jp2.add(b1);
	jp2.add(b2);
	jp2.add(b3);
	add(jp, "North");
	add(jp2);
	
	b1.addActionListener(new ActionListener() {
	    public void actionPerformed(ActionEvent e) {
	    	JOptionPane.showMessageDialog(null, "1단계"); // ※추후 삭제 하거나 이대로 가거나
	    	dispose();
	    	new level1();
	    }
	});
	b2.addActionListener(new ActionListener() {
	    public void actionPerformed(ActionEvent e) {
	    	JOptionPane.showMessageDialog(null, "2단계"); // "
	    	dispose();
	    	new level2();
	    }
	});
	b3.addActionListener(new ActionListener() {
	    public void actionPerformed(ActionEvent e) {
	    	JOptionPane.showMessageDialog(null, "3단계"); // "
	    	dispose();
	    	new level3();
	    }
	});
	
	setVisible(true); // 프레임 보이기
	setResizable(false); // 창 사이즈 변경 불가
	setSize(200, 200); // 프레임 사이즈 설정
	this.setLocationRelativeTo(null); // 화면 중앙에 띄우기
	setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); // X 누르면 닫기
}

public class level1  extends JFrame {
	JPanel jp = new JPanel(); // 패널 1
	public level1() {
		super("초급 단계"); // 타이틀
		reset.setText("리셋"); // 리셋 버튼 텍스트 설정
		reset.setPreferredSize(new Dimension(260, 30)); // 리셋버튼 사이즈 조정
		reset.addActionListener(new ActionListener() { // 리셋버튼 눌렀을때
		    public void actionPerformed(ActionEvent e) {
		    	JOptionPane.showMessageDialog(null, "'리셋'되었습니다.");
		    }
		});
		jp.add(reset); // 패널에 리셋 버튼 추가
		Random rnd = new Random(); // 랜덤함수
		int[][] mine = new int[10][10]; // 지뢰판 설정
		this.setLayout(new BorderLayout()); // 레이아웃 설정
		
		JButton jb[][] = new JButton[10][10]; // 버튼 10x10 생성
    	for(int i = 0; i < 10; i++) {
    		for(int j = 0; j < 10; j++) {
        		jb[i][j] = new JButton();
        		jb[i][j].setPreferredSize(new Dimension(20,20));
        		jp.add(jb[i][j]);
    		}
    	}
    	for(int i = 0; i < 10; i++) { // 지뢰 위치를 정수형 변수[] mine에 담아 저장
    		int value = rnd.nextInt(10);
    		jb[i][value].addActionListener(new ActionListener() { // 버튼 눌렀을때
    		    public void actionPerformed(ActionEvent e) {
    		    	JOptionPane.showMessageDialog(null, "아쉽습니다. 지뢰를 클릭했습니다.");
    		    	dispose();
    		    	new level1();
    		    }
    		});
    	}
    	add(jp);
		
		setVisible(true); // 프레임 보이기
		setResizable(false); // 창 사이즈 변경 불가
		setSize(260 , 300); // 프레임 사이즈 설정
		this.setLocationRelativeTo(null); // 화면 중앙에 띄우기
		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); // X 누르면 닫기
	}
}


public class level2  extends JFrame {
	JPanel jp = new JPanel(); // 패널 1
	
	public level2() {
		super("중급 단계"); // 타이틀
		reset.setText("리셋"); // 리셋 버튼 텍스트 설정
		reset.setPreferredSize(new Dimension(510, 30)); // 리셋버튼 사이즈 조정
		reset.addActionListener(new ActionListener() { // 리셋버튼 눌렀을때
		    public void actionPerformed(ActionEvent e) {
		    	JOptionPane.showMessageDialog(null, "'리셋'되었습니다.");
		    }
		});
		jp.add(reset); // 패널에 리셋 버튼 추가
		
		Random rnd = new Random();
		
		this.setLayout(new BorderLayout()); // 레이아웃 설정
		
		JButton jb2[][] = new JButton[20][20];
		for(int i = 0; i < 20; i++) {	
    		for(int j = 0; j < 20; j++) {
        		jb2[i][j] = new JButton();
        		jb2[i][j].setPreferredSize(new Dimension(20,20));
        		jp.add(jb2[i][j]);
    		}
    	}
    	for(int i = 0; i < 20; i++) {
    		int temp;
    		int value = rnd.nextInt(20);
    		jb2[i][value].addActionListener(new ActionListener() { // 버튼 눌렀을때
    		    public void actionPerformed(ActionEvent e) {
    		    	JOptionPane.showMessageDialog(null, "아쉽습니다. 지뢰를 클릭했습니다.");
    		    	dispose();
    		    	new level2();
    		    }
    		});
    	}
    	add(jp);
		
		setVisible(true); // 프레임 보이기
		setResizable(false); // 창 사이즈 변경 불가
		setSize(510, 560); // 프레임 사이즈 설정
		this.setLocationRelativeTo(null); // 화면 중앙에 띄우기
		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); // X 누르면 닫기
	}
}

public class level3  extends JFrame {
	JPanel jp = new JPanel(); // 패널 1
	
	public level3() {
		super("고급 단계"); // 타이틀
		reset.setText("리셋"); // 리셋 버튼 텍스트 설정
		reset.setPreferredSize(new Dimension(760, 30)); // 리셋버튼 사이즈 조정
		reset.addActionListener(new ActionListener() { // 리셋버튼 눌렀을때
		    public void actionPerformed(ActionEvent e) {
		    	JOptionPane.showMessageDialog(null, "'리셋'되었습니다.");
		    }
		});
		jp.add(reset); // 패널에 리셋 버튼 추가
		Random rnd = new Random();
		
		this.setLayout(new BorderLayout()); // 레이아웃 설정
		
		JButton jb3[][] = new JButton[30][30];
		for(int i = 0; i < 30; i++) {	
    		for(int j = 0; j < 30; j++) {
        		jb3[i][j] = new JButton();
        		jb3[i][j].setPreferredSize(new Dimension(20,20));
        		jp.add(jb3[i][j]);
    		}
    	}

    	for(int i = 0; i < 30; i++) {
    		int temp;
    		int value = rnd.nextInt(30);
    		jb3[i][value].addActionListener(new ActionListener() { // 버튼 눌렀을때
    		    public void actionPerformed(ActionEvent e) {
    		    	JOptionPane.showMessageDialog(null, "아쉽습니다. 지뢰를 클릭했습니다.");
    		    	dispose();
    		    	new level3();
    		    }
    		});
    	}
    	add(jp);
		
		setVisible(true); // 프레임 보이기
		setResizable(false); // 창 사이즈 변경 불가
		setSize(760, 820); // 프레임 사이즈 설정
		this.setLocationRelativeTo(null); // 화면 중앙에 띄우기
		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); // X 누르면 닫기
	}
}

/* 액션 리스너
class MyActionListener implements ActionListener {

	@Override
	public void actionPerformed(ActionEvent e) {
		// TODO Auto-generated method stub
		JButton reset = (JButton)e.getSource();
		if(reset.getText().equals("리셋")) {
			
		}
			
			
	}
	
}
*/
public static void main(String[] args) {
	// TODO Auto-generated method stub
	new mine(); // 프레임 불러오기
}
}

// 11.26
// 버튼 사이즈 조절, 지뢰 범위 설정, 난이도별 

// 11.26
// 버튼 사이즈 조절, 지뢰 범위 설정, 난이도별 
// 모든 난이도에 리셋버튼 추가 / 아직 작동은 안됨
// 지뢰판 클릭했을때 사용할 액션 리스너 베이스 깔아두고 주석처리 함

// 11.26
// 지뢰 클릭시 패널 닫고 다시 호출 기능 추가
/* 이제 지뢰가 아닌 부분을 클릭했을때 버튼을 블럭 시키면서 숫자를 표시해주는 기능 추가
   깃발 세우는 기능만 추가 하면 일단락 할듯 */ 
